@use "sass:math";
@use "sass:map";

$icon-size: 24px;

@mixin sizes($map) {
  @each $size, $size-settings in $map {
    &-#{$size} {
      min-height: nth($size-settings, 1);
      padding: #{math.div(nth($size-settings, 1) - $icon-size - 2, 2)} nth($size-settings, 2);
      border-radius: nth($size-settings, 3);
    }
  }
}

.tgui-button {
  border: 1px solid transparent;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: background-color;
  transition-duration: 75ms;

  // Color modifiers.
  @each $type, $type-settings in (
    "fill": [#007AFF, white, null],
    "bezeled": [#4378FF1A, #007AFF, null],
    "plain": [transparent, #007AFF, null],
    "gray": [#0000000A, #000000CC, null],
    "outline": [transparent, #000000CC, #0000000D],
    "white": [white, #000000CC, null],
  ) {
    $background-color: nth($type-settings, 1);
    $border-color: nth($type-settings, 3);

    &--#{$type} {
      background-color: $background-color;
      color: nth($type-settings, 2);

      @if $border-color {
        border-color: $border-color;
      }
    }
  }

  &--base {
    gap: 12px;

    @include sizes((
      "sm": [38px, 12px, 8px],
      "md": [42px, 14px, 8px],
      "lg": [50px, 18px, 8px]
    ));

    // Color hover modifiers.
    @each $type, $type-settings in (
      "fill": [transparentize(#007AFF, .15)],
      "bezeled": [transparentize(#007AFF, .93)],
      //"plain": [transparentize(#007AFF, .97)],
      //"gray": [],
      //"outline": [],
      //"white": [],
    ) {
      $background-color: nth($type-settings, 1);

      &-#{$type}:hover {
        background-color: $background-color;
      }
    }
  }

  &--ios {
    gap: 10px;

    @include sizes((
      "sm": [36px, 12px, 12px],
      "md": [42px, 14px, 12px],
      "lg": [50px, 18px, 10px]
    ));
  }

  &--rounded {
    border-radius: 1000px;
  }

  &--full-width {
    width: 100%;
  }

  &--disabled {
    opacity: .35;
    cursor: not-allowed;
  }

  &__icon-container {
    width: $icon-size;
    height: $icon-size;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  &__icon {
    color: currentColor;
  }
}
